<!DOCTYPE html>
<html ng-app>
    <head>
        <!--Import Google Icon Font-->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <!--Import materialize.css-->
        <link type="text/css" rel="stylesheet" href="css/materialize.css"  media="screen,projection"/>
        <link type="text/css" rel="stylesheet" href="css/pipe.css"/>
        <link rel="manifest" href="manifest.json">

        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <meta name="theme-color" content="#7986cb">
        <meta name="msapplication-TileColor" content="#7986cb">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <script type="text/javascript" src="js/angular-1.0.1.min.js"></script>
        <script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
        <script type="text/javascript" src="js/materialize.min.js"></script>
        <script type="text/javascript" src="js/common.js"></script>

        <title>PIPELINE</title>

    </head>

<body>

<div id="container">

<div ng-controller="profileController">
    <!-- *******************************************-->
    <!--                    NAVBAR                  -->
    <!-- *******************************************-->
    <div class="navbar-fixed">
        <nav>
            <div class="nav-wrapper">
                <!-- <a href="#!" class="brand-logo left"><i data-activates="slide-out" id="sideMenu" class="material-icons">menu</i>PIPELINE</a> -->
                <a href="#" data-activates="slide-out" class="button-collapse hide-on-large-only"><i class="material-icons">menu</i>PIPELINE</a>
                <ul id="nav-mobile" class="right">
                    <li><a href="#" onclick="openLink( linkPage.rel_notificacoes );"><i data-activates="slide-out" class="material-icons">notifications_active</i></a></li>
                    <li><a href="#" onclick="home();"><i data-activates="slide-out" id="homeBtn" class="material-icons">home</i></a></li>
                    <li><a href="#modalUser" class="modal-trigger"><img class="circle btn-floating" src="{{ profileImage }}"></a></li>
                </ul>
            </div>
        </nav>
    </div>


    <!-- *******************************************-->
    <!--                    SIDNAV                  -->
    <!-- *******************************************-->
    <ul id="slide-out" class="side-nav fixed">
        <li><div class="user-view">
            <div class="background"><img src="images/artit_bkg.png"></div>
            <a href="#" onclick="openLink( linkPage.profile )"><img class="circle" src="{{ profileImage }}"></a>
            <a href="#" onclick="openLink( linkPage.profile )"><span class="white-text name">{{ profileName }}</span></a>
            <a href="#" onclick="openLink( linkPage.profile )"><span class="white-text email">{{ profileEmail }}</span></a>
        </div></li>
        <li><a class="waves-effect" href="#" onclick="openLink( linkPage.home )"><i class="material-icons">home</i>Tela Inicial</a></li>
        <li><div class="divider"></div></li>
        <li><a class="waves-effect" href="#" onclick="openLink( linkPage.add_opportunity )"><i class="material-icons">local_offer</i>Incluir Oportunidade</a></li>
        <li><a class="waves-effect" href="#" onclick="openLink( linkPage.cons_opportunity )"><i class="material-icons">search</i>Consultar Oportunidade</a></li>
        <li><a class="waves-effect" href="#" onclick="openLink( linkPage.reports )"><i class="material-icons">data_usage</i>Relat&oacute;rios</a></li>
        <li><div class="divider"></div></li>
        <li><a class="waves-effect" href="#" onclick="openLink( linkPage.add_rh )"><i class="material-icons">person_add</i>Incluir Vagas</a></li>
        <li><a class="waves-effect" href="#" onclick="openLink( linkPage.cons_rh )"><i class="material-icons">assignment</i>Consultar Vagas</a></li>
        <!-- <li><a class="waves-effect" href="#" onclick="openLink( linkPage.feedback )"><i class="material-icons">autorenew</i>Feedbacks</a></li> -->
        <li><div class="divider"></div></li>
        <li><a class="waves-effect" href="#" onclick="openLink( linkPage.refund )"><i class="material-icons">attach_money</i>Reembolsos</a></li>
        <li><div class="divider"></div></li>
        <li><a class="waves-effect" href="#" onclick="openLink( linkPage.open_change )"><i class="material-icons">art_track</i>Abrir Change</a></li>
        <li><div class="divider"></div></li>
        <li><a class="waves-effect" href="#" onclick="openLink( linkPage.add_customer )"><i class="material-icons">person_pin</i>Incluir Cliente</a></li>
        <!-- <li><a class="waves-effect" href="#" onclick="openLink( linkPage.cons_customer )"><i class="material-icons">search</i>Consultar Cliente</a></li> -->
    </ul>
<!-- *******************************************-->
</div>

<!-- *******************************************-->
<!--                  CONTEUDO                  -->
<!-- *******************************************-->
<div id="content">

<!-- *******************************************-->
<!--                     CARDS                  -->
<!-- *******************************************-->
<div id="cardsContainer" class="row">

    <!-- *******************************************-->
    <!--      CARD: OPORTUNIDADES                   -->
    <div class="col l6 m6 s12">
        <div class="card sticky-action small">
            <div class="card-image">
                <img class="activator" src="images/oportunidade.jpg">
            </div>
            <div class="card-content">
                <span class="card-title activator">Oportunidade<i class="material-icons right">more_vert</i></span>
            </div>
            <div class="card-action">
                <a class="grey-text" href="#" onclick="openLink( linkPage.add_opportunity )">Incluir</a>
                <a class="grey-text" href="#" onclick="openLink( linkPage.cons_opportunity )">Consultar</a>
                <a class="grey-text" href="#" onclick="openLink( linkPage.reports )">Relat&oacute;rios</a>
            </div>
            <div class="card-reveal">
                <span class="card-title grey-text text-darken-4">Oportunidades<i class="material-icons right">close</i></span>
                <form action="#" id="frmFilter">
                <input type="checkbox" class="filled-in" id="filterMine" checked="checked"/>
                <label for="filterMine">Somente as minhas</label>
                </form>
                <p><a href="#" onclick="openLink( linkPage.filter_claro )" class="btn waves-effect waves-light">Claro</a>
                   <a href="#" onclick="openLink( linkPage.filter_cpqd )" class="btn waves-effect waves-light">CPqD</a>
                   <a href="#" onclick="openLink( linkPage.filter_leroy )" class="btn waves-effect waves-light">Leroy</a></p>
                <p><a href="#" onclick="openLink( linkPage.filter_unimed )" class="btn waves-effect waves-light">Unimed</a>
                    <a href="#" onclick="openLink( linkPage.filter_qualicorp )" class="btn waves-effect waves-light">Qualicorp</a>
                    <a href="#" onclick="openLink( linkPage.filter_hc )" class="btn waves-effect waves-light">HC</a></p>
                <p><a href="#" onclick="openLink( linkPage.filter_matera )" class="btn waves-effect waves-light">Matera</a>
                    <a href="#" onclick="openLink( linkPage.filter_movile )" class="btn waves-effect waves-light">Movile</a>
                    <a href="#" onclick="openLink( linkPage.filter_caixa )" class="btn waves-effect waves-light">Caixa</a></p>
                <p><a href="#" onclick="openLink( linkPage.filter_promon )" class="btn waves-effect waves-light">Promon</a>
                    <a href="#" onclick="openLink( linkPage.filter_teleideia )" class="btn waves-effect waves-light">Teleideia</a></p>
                <p><a href="#" onclick="openLink( linkPage.filter_multiplay )" class="btn waves-effect waves-light">Multiplay</a></p>
            </div>
        </div>
    </div>

    <!-- *******************************************-->
    <!--      CARD: VAGAS                           -->
    <div class="col l6 m6 s12">
        <div class="card sticky-action small">
            <div class="card-image">
                <img class="activator" src="images/rh.jpg">
            </div>
            <div class="card-content">
                <span class="card-title activator grey-text text-darken-4">Gerenciar Vagas<i class="material-icons right">more_vert</i></span>
            </div>
            <div class="card-action">
                <a href="#" onclick="openLink( linkPage.add_rh )" class="grey-text">Incluir</a>
                <a href="#" onclick="openLink( linkPage.cons_rh )" class="grey-text">Consultar</a>
                <a href="#" onclick="openLink( linkPage.feedback )" class="grey-text">Feedbacks</a>
            </div>
            <div class="card-reveal">
                <span class="card-title grey-text text-darken-4">Gerenciar Vagas<i class="material-icons right">close</i></span>
                <p><a href="#" onclick="openLink( linkPage.rel_calendario )" class="btn waves-effect waves-light">Calend&aacute;rio</a>
                    <a href="#" onclick="openLink( linkPage.rel_reembolso )" class="btn waves-effect waves-light">Reemboso</a></p>
                 <p><a href="#" onclick="openLink( linkPage.rel_horas_usuario )" class="btn waves-effect waves-light">Horas por Usu&aacute;rio</a></p>
                <p><a href="#" onclick="openLink( linkPage.rel_horas_projeto )" class="btn waves-effect waves-light">Horas por Projeto</a></p>
                <p><a href="#" onclick="openLink( linkPage.rel_horas_demanda )" class="btn waves-effect waves-light">Horas por Demanda</a></p>
             </div>
        </div>
    </div>

    <!-- *******************************************-->
    <!--      CARD: PRE-VENDAS                         -->
    <div class="col l4 m6 s12">
        <div class="card sticky-action small">
            <div class="card-image">
                <img class="activator" src="images/presales.jpg">
            </div>
            <div class="card-content">
                <span class="card-title activator">Pr&eacute;-Vendas<i class="material-icons right">more_vert</i></span>
            </div>
            <div class="card-action">
                <a class="grey-text" href="#" onclick="openLink( linkPage.open_change )">Change</a>
            </div>
            <div class="card-reveal">
                <span class="card-title grey-text text-darken-4">Pr&eacute;-Vendas<i class="material-icons right">close</i></span>
                <p>Toda e qualquer iniciativa comercial que demande uma proposta, precisa ter um ticket no Change aberto.<br>Lembre-se de que as datas e expectativas de entregas de propostas devem ser negociadas tanto interna quanto externamente.</p>
            </div>
        </div>
    </div>

    <!-- *******************************************-->
    <!--      CARD: CLIENTES                        -->
    <div class="col l4 m6 s12">
        <div class="card sticky-action small">
            <div class="card-image">
                <img class="activator" src="images/clientes.jpg">
            </div>
            <div class="card-content">
                <span class="card-title activator grey-text text-darken-4">Dados de Clientes<i class="material-icons right">more_vert</i></span>
            </div>
            <div class="card-action">
                <a class="grey-text" href="#" onclick="openLink( linkPage.add_customer )">Incluir</a>
                <a class="grey-text" href="#" onclick="openLink( linkPage.cons_customer )">Consultar</a>
            </div>
            <div class="card-reveal">
                <span class="card-title grey-text text-darken-4">Dados de Clientes<i class="material-icons right">close</i></span>
                <p>Gerir dados de clientes e informa&ccedil;&otilde;es de contato</p>
            </div>
        </div>
    </div>


    <!-- *******************************************-->
    <!--      CARD: REEMBOLSO                       -->
    <div class="col l4 m6 s12">
        <div class="card sticky-action small">
            <div class="card-image waves-effect waves-block waves-light">
                <img class="activator" src="images/reembolso.jpg">
            </div>
            <div class="card-content">
                <span class="card-title activator grey-text text-darken-4">Solicita&ccedil;&otilde;es de Reembolso<i class="material-icons right">more_vert</i></span>
            </div>                      
            <div class="card-action">
                <a href="#" onclick="openLink( linkPage.refund )" class="grey-text">Solicitar Reembolso</a>
            </div>
            <div class="card-reveal">
                <span class="card-title grey-text text-darken-4">Solicita&ccedil;&otilde;es de Reembolso<i class="material-icons right">close</i></span>
                <p>N&atilde;o se esque&ccedil;a de realizar suas solicita&ccedil;&itilde;es de reembolso com a data limite de no m&aacute;ximo o dia 10 de cada m&ecirc;s. Isto ajuda o departamento financeiro e garante o pagamento dos valores.</p>
            </div>
        </div>
    </div>

</div>
<!--               FIM DE CARDS                 -->
<!-- *******************************************-->
 
<!-- *******************************************-->
<!-- IFRAME PARA EXIBIÇÃO DO CONTEUDO DO ROSIE  -->
<!-- *******************************************-->
<div id="frameContent" class="hide">
    <iframe frameborder=2 id="frmContent" src="" borders=0 width="100%" height="550"></iframe>
</div>
<!-- *******************************************-->

<!-- *******************************************-->
<!--      MODAL PARA SELEÇÃO DE USUARIOS        -->
<!-- *******************************************-->
<div ng-controller="usersController">
    <div id="modalUser" class="modal">
        <div class="modal-content">
            <h4>SELECIONE UM USU&Aacute;RIO</h4>
            <p>
                <div class="collection">
                <a ng-repeat="item in itens" href="#" onclick="setUserCookie('{{ item.user }}');" class="collection-item modal-action modal-close"><img class="circle btn-floating" src="{{ item.profileImage }}">    {{ item.name }}</a>
                </div>
            </p>
        </div>
        <div class="modal-footer">
            <a href="#" class="modal-action modal-close waves-effect waves-green btn-flat">Cancelar</a>
        </div>
    </div>
</div>
<!-- *******************************************-->

<div class="tap-target" data-activates="homeBtn">
    <div class="tap-target-content white-text">
        <h5>Home</h5>
        <p>Clique aqui para acessar a pagina inicial e visualizar todas as opções disponíveis</p>
    </div>
</div>

<div class="tap-target" data-activates="sideMenu">
    <div class="tap-target-content white-text">
        <h5>Menu Lateral</h5>
        <p>Vizualize aqui em qualquer momento todas as opções disponíveis inclusive na Home</p>
    </div>
</div>
    
<script>

$('#frmContent').css('height', ($(window).height()-65)+'px');

/** *************************** 
 * Inicialização do SIDNAV 
 **************************** */
(function($){
    $(function(){
        $('#sideMenu').sideNav();
    }); // end of document ready
})(jQuery); // end of jQuery name space


/** *************************** 
 * Verifica se existe um cookie com o usuario selecionado,
 * senão abre o modal com a seleção de usuario.
 **************************** */
 $(document).ready(function(){
    $('.modal').modal();
    if( document.cookie == '' ){
        $('.modal').modal('open');
    }
});

/**
 * Inicializa objetos de seção dentro do conteudo
 */
var frameContent = $('#frameContent');
var cardsContent = $('#cardsContainer');


function getDocHeight(doc) {
    doc = doc || document;
    // stackoverflow.com/questions/1145850/
    var body = doc.body, html = doc.documentElement;
    var height = Math.max( body.scrollHeight, body.offsetHeight, 
        html.clientHeight, html.scrollHeight, html.offsetHeight );
    return height;
}

function setIframeHeight(id) {
    var ifrm = document.getElementById(id);

    ifrm.style.visibility = 'hidden';
    ifrm.style.height = "10px"; // reset to minimal height ...
    // IE opt. for bing/msn needs a bit added or scrollbar appears
    ifrm.style.height = (getDocHeight( document.body ) - 100) + "px";
    alert((getDocHeight( document.body )-100));
    ifrm.style.visibility = 'visible';
}

function setFrameSize(){
    setIframeHeight('frmContent');
    setTimeout(setFrameSize, 2000);
}

setFrameSize()

</script>

<!-- Finalização do DIV CONTENT -->
</div> 

<!-- Finalização do DIV CONTAINER -->
</div> 

</body>
</html>